<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard SMKG</title>
  <style>
    :root{
      --navH: 64px;
      --ease: cubic-bezier(.2,.8,.2,1);
      --ease2: cubic-bezier(.16,1,.3,1);
      --dur: 560ms;

      /* THEME (default = dark) */
      --bg0: #07080b;
      --glass: rgba(12,14,18,.55);
      --border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.74);
      --shadow: 0 18px 55px rgba(0,0,0,.45);

      --navBg: rgba(10,12,16,.55);
      --navBorder: rgba(255,255,255,.12);
      --btnBg: rgba(255,255,255,.06);
      --btnBgHover: rgba(255,255,255,.10);
      --btnBorder: rgba(255,255,255,.14);
      --btnShadowHover: 0 16px 36px rgba(0,0,0,.22);

      --bg-r1: rgba(255,255,255,.10);
      --bg-r2: rgba(255,255,255,.08);
      --bg-l1: #05060a;
      --bg-l2: #07080b;
      --gridLine: rgba(255,255,255,.06);
    }

    /* Light theme overrides */
    html[data-theme="light"]{
      --bg0: #f6f7fb;
      --glass: rgba(255,255,255,.62);
      --border: rgba(10,12,16,.14);
      --text: rgba(10,12,16,.92);
      --muted: rgba(10,12,16,.70);
      --shadow: 0 18px 55px rgba(10,12,16,.10);
      --navBg: rgba(255,255,255,.72);
      --navBorder: rgba(10,12,16,.10);
      --btnBg: rgba(10,12,16,.06);
      --btnBgHover: rgba(10,12,16,.10);
      --btnBorder: rgba(10,12,16,.12);
      --bg-r1: rgba(10,12,16,.10);
      --bg-r2: rgba(10,12,16,.08);
      --bg-l1: #ffffff;
      --bg-l2: #f6f7fb;
      --gridLine: rgba(10,12,16,.08);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; background: var(--bg0); overflow:hidden; }
    
    /* Vertical Container Structure */
    .main-container { height: 100vh; overflow: hidden; position: relative; touch-action: none; }
    .vertical-track { height: 200vh; transition: transform 1100ms var(--ease2); will-change: transform; }

    /* Backgrounds */
    .bg{
      position: fixed; inset:0; z-index:0;
      background: radial-gradient(900px 600px at 18% 18%, var(--bg-r1), transparent 55%),
                  radial-gradient(900px 700px at 82% 28%, var(--bg-r2), transparent 55%),
                  linear-gradient(180deg, var(--bg-l1), var(--bg-l2) 60%, var(--bg-l1));
    }
    .grid{
      position:absolute; inset:0;
      background-image: linear-gradient(to right, var(--gridLine) 1px, transparent 1px),
                        linear-gradient(to bottom, var(--gridLine) 1px, transparent 1px);
      background-size: 68px 68px; opacity: .08; pointer-events:none;
    }

    /* Top nav */
    .topbar{
      position: fixed; inset: 0 0 auto 0; height: var(--navH); z-index: 100;
      display:flex; align-items:center; justify-content:space-between;
      padding: 0 24px; backdrop-filter: blur(16px);
      background: var(--navBg); border-bottom: 1px solid var(--navBorder);
    }
    .brand{ display:flex; align-items:center; gap:10px; color: var(--text); font-weight: 820; letter-spacing:.2px; }
    .mark{
      width: 34px; height: 34px; border-radius: 12px; border: 1px solid var(--btnBorder);
      background: var(--btnBg); display:flex; align-items:center; justify-content:center;
    }
    .navlinks{ display:flex; gap:10px; align-items: center; }
    .navlinks a, .themeBtn{
      padding: 8px 14px; border-radius: 10px; border: 1px solid var(--btnBorder);
      background: var(--btnBg); color: var(--text); font-size: 13px; transition: 0.3s; cursor: pointer; text-decoration: none;
    }
    .navlinks a:hover, .themeBtn:hover{ background: var(--btnBgHover); transform: translateY(-2px); box-shadow: var(--btnShadowHover); }

    /* Slider Styles */
    .section-1 { height: 100vh; position: relative; }
    .viewport{ position: relative; height: 100%; padding-top: var(--navH); overflow:hidden; }
    .track{ height: calc(100% - var(--navH)); display:flex; transition: transform var(--dur) var(--ease2); }
    .slide{ width: 100vw; height: 100%; flex: 0 0 100%; position: relative; overflow:hidden; }
    .img{ position:absolute; inset:0; background-size: cover; background-position: center; transition: transform 1000ms var(--ease2); }
    .slide.active .img{ animation: zoom 18s linear forwards; }
    @keyframes zoom{ from{ transform: scale(1.02); } to{ transform: scale(1.08); } }
    .overlay{ position:absolute; inset:0; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); }
    html[data-theme="light"] .overlay { background: linear-gradient(to top, rgba(255,255,255,0.7), transparent); }

    .content{ position:absolute; left: 24px; bottom: 80px; max-width: 800px; color: var(--text); z-index: 5; }
    .card{
      padding: 24px; border-radius: 24px; border: 1px solid var(--border);
      background: var(--glass); backdrop-filter: blur(20px);
      transform: translateY(20px); opacity: 0; transition: 0.8s var(--ease2) 0.1s;
    }
    .slide.active .card{ transform: translateY(0); opacity: 1; }
    .title{ font-size: clamp(32px, 5vw, 64px); font-weight: 800; line-height: 1.1; margin: 10px 0; }
    .hl{ color: var(--text); text-decoration: underline color-mix(in srgb, var(--text) 30%, transparent); }
    .bullets{ margin: 15px 0 0; padding-left: 20px; color: var(--muted); line-height: 1.6; }

    /* Section 2: Reveal Effect */
    .section-2 { height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--bg-l1); position: relative; }
    .brand-statement { text-align: center; }
    .reveal-text {
      display: block; font-size: clamp(48px, 12vw, 160px); font-weight: 900;
      color: var(--text); line-height: 0.95; letter-spacing: -0.05em;
      text-transform: uppercase; opacity: 0; transform: translateY(100px) skewY(8deg);
      filter: blur(15px); transition: all 1200ms var(--ease2);
    }
    .section-2.active .reveal-text { opacity: 1; transform: translateY(0) skewY(0); filter: blur(0); }
    .section-2.active .reveal-text:nth-child(2) { transition-delay: 150ms; color: color-mix(in srgb, var(--text) 40%, transparent); }
    .section-2.active .reveal-text:nth-child(3) { transition-delay: 300ms; }

    /* Navigation UI */
    .pills{ position: fixed; left: 24px; bottom: 24px; z-index: 60; display:flex; gap:10px; transition: opacity 0.5s; }
    .pill{
      width: 10px; height: 10px; border-radius: 10px; background: color-mix(in srgb, var(--text) 20%, transparent);
      cursor:pointer; transition: width 0.4s; overflow:hidden; border: none;
    }
    .pill.active{ width: 50px; background: color-mix(in srgb, var(--text) 40%, transparent); }
    .bar{ display:block; height:100%; width:0%; background: var(--text); }
    .pill.active.running .bar { animation: fill linear forwards; }
    @keyframes fill { to { width: 100%; } }

    .controls{ position: fixed; right: 24px; bottom: 24px; z-index: 60; display:flex; gap:10px; transition: opacity 0.5s; }
    .btn{
      width: 48px; height: 48px; border-radius: 14px; border: 1px solid var(--btnBorder);
      background: var(--btnBg); color: var(--text); cursor:pointer; backdrop-filter: blur(10px); font-size: 20px;
    }

    /* Floating Hints */
    .scroll-hint, .gallery-hint {
      position: absolute; left: 50%; transform: translateX(-50%);
      color: var(--muted); font-size: 10px; letter-spacing: 3px;
      text-transform: uppercase; text-decoration: none;
      z-index: 10;
    }
    .scroll-hint { bottom: 30px; animation: bounceDown 2s infinite; }
    .gallery-hint { bottom: 40px; animation: bounceUp 2s infinite; }

    @keyframes bounceDown { 0%, 100% { transform: translate(-50%, 0); opacity: 0.3; } 50% { transform: translate(-50%, 10px); opacity: 1; } }
    @keyframes bounceUp { 0%, 100% { transform: translate(-50%, 0); opacity: 0.3; } 50% { transform: translate(-50%, -10px); opacity: 1; } }

    .pageTrans{ position: fixed; inset: 0; z-index: 999; pointer-events:none; transform: translateY(-100%); background: var(--bg-l1); transition: transform 0.5s var(--ease2); }
    .pageTrans.run{ transform: translateY(0); pointer-events: auto; }
  </style>
</head>

<body>
  <div class="bg"><div class="grid"></div></div>
  <div class="pageTrans" id="pageTrans"></div>

  <header class="topbar">
    <div class="brand">
      <div class="mark">◆</div>
      <div>
        <div>Dashboard SMKG</div>
        <div class="sub">Showcase • Dashboard</div>
      </div>
    </div>
    <nav class="navlinks">
      <a href="akademik.html" data-trans="true">Pengurusan</a>
      <a href="#" data-trans="true">HEM</a>
      <a href="#" data-trans="true">Ko-Kurikulum</a>
      <a href="#" data-trans="true">Live</a>
      <button class="themeBtn" id="themeToggle">
        <span id="themeIcon">☾</span> <span id="themeLabel">Dark</span>
      </button>
    </nav>
  </header>

  <div class="main-container">
    <div class="vertical-track" id="verticalTrack">
      <section class="section-1">
        <main class="viewport"><section class="track" id="track"></section></main>
        <div class="scroll-hint">Scroll Down</div>
      </section>

      <section class="section-2" id="section2">
        <div class="brand-statement">
          <span class="reveal-text">SMKG</span>
          <span class="reveal-text">Berabis</span>
          <span class="reveal-text">Cemerlang</span>
        </div>
        <a href="gallery.html" class="gallery-hint" data-trans="true">Gallery</a>
      </section>
    </div>
  </div>

  <div class="pills" id="pills"></div>
  <div class="controls" id="ui-controls">
    <button class="btn" id="prev">‹</button>
    <button class="btn" id="next">›</button>
  </div>

  <script>
    const SLIDES = [
      {
        kicker: "SHOWCASE",
        title: `School<span class="hl">Connect</span> @smkg`,
        note: "Briding the community closer via digital portal.",
        bullets: ["2026 focus: Improve core subjects consistency through data driven approach", "Panel interventions tracked weekly", "Targets aligned with district KPI"],
        bg: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?auto=format&fit=crop&w=2200&q=60"
      },
      {
        kicker: "DASHBOARD",
        title: `Trends & <span class="hl">Highlights</span>`,
        note: "This slide becomes your KPI proof (charts later).",
        bullets: ["GPMP trend + subject heatmap", "Identify at-risk groups early", "Compare TOV vs current vs target"],
        bg: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=2200&q=60"
      },
      {
        kicker: "ACTION",
        title: `Intervention <span class="hl">Next</span>`,
        note: "Clear plan. Clear ownership. Clear timeline.",
        bullets: ["Week 1: Diagnose + set target groups", "Week 2–3: Execute micro-interventions", "Week 4: Review impact + refine"],
        bg: "https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&w=2200&q=60"
      }
    ];

    let currentSection = 0, slideIdx = 0, isScrolling = false;
    const AUTO_MS = 10000;
    let autoTimer = null;

    const vTrack = document.getElementById('verticalTrack'), s2 = document.getElementById('section2'),
          track = document.getElementById('track'), pills = document.getElementById('pills'),
          uiControls = document.getElementById('ui-controls'), pageTrans = document.getElementById('pageTrans');

    // Theme Logic
    (function initTheme(){
      const root = document.documentElement, btn = document.getElementById("themeToggle"),
            ico = document.getElementById("themeIcon"), lbl = document.getElementById("themeLabel");
      function setTheme(t){
        root.setAttribute("data-theme", t);
        ico.textContent = t === "light" ? "☀" : "☾";
        lbl.textContent = t === "light" ? "Light" : "Dark";
        localStorage.setItem("smkg_theme", t);
      }
      btn.onclick = () => setTheme(root.getAttribute("data-theme") === "light" ? "dark" : "light");
      setTheme(localStorage.getItem("smkg_theme") || "dark");
    })();

    function renderSlider() {
      track.innerHTML = ""; pills.innerHTML = "";
      SLIDES.forEach((s, i) => {
        const slide = document.createElement("section");
        slide.className = "slide" + (i === slideIdx ? " active" : "");
        slide.innerHTML = `<div class="img" style="background-image:url('${s.bg}')"></div><div class="overlay"></div>
          <div class="content"><div class="card"><div class="kicker">${s.kicker}</div><div class="title">${s.title}</div>
          <p class="note">${s.note}</p><ul class="bullets">${s.bullets.map(b => `<li>${b}</li>`).join("")}</ul></div></div>`;
        track.appendChild(slide);
        const p = document.createElement("button");
        p.className = "pill" + (i === slideIdx ? " active" : "");
        p.innerHTML = `<span class="bar"></span>`;
        p.onclick = () => { slideIdx = i; updateSlider(); restartAuto(); };
        pills.appendChild(p);
      });
      updateSlider(); restartAuto();
    }

    function updateSlider() {
      track.style.transform = `translateX(-${slideIdx * 100}vw)`;
      [...track.children].forEach((s, i) => s.classList.toggle("active", i === slideIdx));
      [...pills.children].forEach((p, i) => {
        p.classList.toggle("active", i === slideIdx);
        p.classList.remove("running");
        const bar = p.querySelector(".bar");
        if(bar) { bar.style.animation = "none"; void bar.offsetHeight; bar.style.animation = ""; }
      });
      const active = pills.children[slideIdx];
      if (active) { active.classList.add("running"); active.querySelector(".bar").style.animationDuration = AUTO_MS + "ms"; }
    }

    function restartAuto(){
      clearInterval(autoTimer);
      autoTimer = setInterval(() => { if(currentSection === 0) { slideIdx = (slideIdx + 1) % SLIDES.length; updateSlider(); } }, AUTO_MS);
    }

    function goToSection(index) {
      if (isScrolling || index === currentSection || index < 0 || index > 1) return;
      isScrolling = true; currentSection = index;
      vTrack.style.transform = `translateY(-${currentSection * 100}vh)`;
      if (currentSection === 1) {
        s2.classList.add('active'); pills.style.opacity = "0"; uiControls.style.opacity = "0";
      } else {
        s2.classList.remove('active'); pills.style.opacity = "1"; uiControls.style.opacity = "1";
      }
      setTimeout(() => { isScrolling = false; }, 1100);
    }

    window.addEventListener('wheel', e => goToSection(e.deltaY > 0 ? 1 : 0));
    document.getElementById('next').onclick = () => { slideIdx = (slideIdx + 1) % SLIDES.length; updateSlider(); restartAuto(); };
    document.getElementById('prev').onclick = () => { slideIdx = (slideIdx - 1 + SLIDES.length) % SLIDES.length; updateSlider(); restartAuto(); };
    
    document.querySelectorAll('a[data-trans="true"]').forEach(a => {
      a.onclick = (e) => {
        e.preventDefault();
        pageTrans.classList.add("run");
        setTimeout(() => { window.location.href = a.href; }, 520);
      };
    });

    renderSlider();
  </script>
</body>
</html>
